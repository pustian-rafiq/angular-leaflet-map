<div class="container mt-1">
  @if (isShowDivisionDetails || showBrandDetails) {
  <div class="d-flex justify-content-start gap-3 align-items-center mb-4">
    <i
      class="fas fa-chevron-left"
      style="cursor: pointer"
      (click)="goBack()"
    ></i>
    <h2 class="text-center mb-1 fs-5">Report</h2>
  </div>
  } @else {
  <div class="d-flex justify-content-between align-items-center mb-2">
    <h2 class="text-center mb-1 fs-5">Showing Result</h2>
    <i class="fas fa-download"></i>
  </div>
  } @if(showBrandDetails){
  <div>
    <app-brand-details></app-brand-details>
  </div>
  } @else{
  <div>
    <div class="d-flex flex-column bg-white rounded-2 p-4">
      <div style="margin-bottom: 6px">
        <h4 class="title-style">Paracetamol</h4>
        <p class="date-style">01.01.2024-30.06.2024</p>
      </div>
      @if(isShowDivisionDetails){
      <div class="mb-2">
        <p class="loc-text">Location</p>
        <h3 class="loc-val">
          {{ divisionName }}
        </h3>
      </div>
      }

      <div>
        <p class="total-sales">Total sales</p>
        <h3 class="total-amount">à§³{{ formatNumber(totalAmount) }}</h3>
      </div>
    </div>

    <!-- tab section start -->
    <div
      class="d-flex flex-column bg-white rounded-2 mt-4"
      style="padding: 10px 10px"
    >
      <ul
        class="nav nav-tabs justify-content-between"
        id="myTab"
        role="tablist"
      >
        <li class="nav-item" role="presentation">
          <button
            class="nav-link active"
            id="tab1-btn"
            data-bs-toggle="tab"
            data-bs-target="#tab1"
            type="button"
            role="tab"
            aria-controls="tab1"
            aria-selected="true"
            (click)="tabHandler('demographic')"
          >
            Demographic
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button
            class="nav-link"
            id="tab2-btn"
            data-bs-toggle="tab"
            data-bs-target="#tab2"
            type="button"
            role="tab"
            aria-controls="tab2"
            aria-selected="false"
            (click)="tabHandler('brands')"
          >
            Top Brands
          </button>
        </li>
        <li class="nav-item" role="presentation">
          <button
            class="nav-link"
            id="tab3-btn"
            data-bs-toggle="tab"
            data-bs-target="#tab3"
            type="button"
            role="tab"
            aria-controls="tab3"
            aria-selected="false"
            (click)="tabHandler('market_share')"
          >
            Market Share
          </button>
        </li>
      </ul>
    </div>

    <!-- table content here -->
    <div
      class="d-flex flex-column bg-white rounded-2 mt-4"
      style="padding: 10px 10px"
    >
      <div class="tab-content" id="myTabContent">
        <div
          class="tab-pane fade show active"
          id="tab1"
          role="tabpanel"
          aria-labelledby="tab1-btn"
        >
          <app-table
            [tableTabType]="tableTabType"
            [divisionsDataList]="divisionsDataList"
            (showDistrictsEvent)="showDistrictsHandler($event)"
          ></app-table>
        </div>
        <div
          class="tab-pane fade"
          id="tab2"
          role="tabpanel"
          aria-labelledby="tab2-btn"
        >
          <app-table
            [tableTabType]="tableTabType"
            [divisionsDataList]="divisionsDataList"
            (showBrandDetailsEvent)="showBrandDetailsHandler($event)"
          ></app-table>
        </div>

        <div
          class="tab-pane fade"
          id="tab3"
          role="tabpanel"
          aria-labelledby="tab3-btn"
        >
          <app-table
            [tableTabType]="tableTabType"
            [divisionsDataList]="divisionsDataList"
          ></app-table>
        </div>
      </div>
    </div>
  </div>
  }
</div>
